---
import Layout from "../../layouts/layout-base.astro";
import { DashboardLayout } from "@/components/page/dashboard/layout";
import { SettingsContent } from "@/components/page/dashboard/settings-content";

const { user } = Astro.locals;

if (!user) {
  return Astro.redirect("/signin");
}

if (user && !user.is_onboarded) {
  return Astro.redirect("/onboarding");
}
---

<Layout title="Settings - Hackerfolio">
  <DashboardLayout client:load transition:persist currentPath="/dashboard/settings" user={user}>
    <SettingsContent client:load />
  </DashboardLayout>
</Layout>
