---
import Layout from "../../layouts/layout-base.astro";
import { DashboardLayout } from "@/components/page/dashboard/layout";
import { EditorContent } from "@/components/page/dashboard/editor-content";

const { user } = Astro.locals;

if (!user) {
  return Astro.redirect("/signin");
}

if (user && !user.is_onboarded) {
  return Astro.redirect("/onboarding");
}
---

<Layout title="Editor - Hackerfolio">
  <DashboardLayout client:load currentPath="/dashboard/editor">
    <EditorContent client:load />
  </DashboardLayout>
</Layout>
