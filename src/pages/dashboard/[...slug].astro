---
import Layout from "../../layouts/layout-base.astro";
import { DashboardLayout } from "@/components/page/dashboard/layout";

const { user } = Astro.locals;
const currentPath = Astro.url.pathname;

if (!user) {
  return Astro.redirect("/signin");
}

if (user && !user.is_onboarded) {
  return Astro.redirect("/onboarding");
}
---

<Layout title="Dashboard - Hackerfolio">
  <DashboardLayout user={user} currentPath={currentPath} client:only="react" />
</Layout>
